var u=(e,n,t)=>new Promise((r,o)=>{var c=a=>{try{i(t.next(a))}catch(s){o(s)}},l=a=>{try{i(t.throw(a))}catch(s){o(s)}},i=a=>a.done?r(a.value):Promise.resolve(a.value).then(c,l);i((t=t.apply(e,n)).next())});function m(e){if(e.ok)return e.text();throw new Error("Bad Response")}export function qs(e){return document.querySelector(e)}export function getLocalStorage(e){return JSON.parse(localStorage.getItem(e))}export function setLocalStorage(e,n){localStorage.setItem(e,JSON.stringify(n))}export function removeLocalStorage(e){localStorage.removeItem(e)}export function setClick(e,n){qs(e).addEventListener("touchend",t=>{t.preventDefault(),n()}),qs(e).addEventListener("click",n)}export function getParam(e){const n=window.location.search,t=new URLSearchParams(n);return t.get(e)}export function renderListWithTemplate(e,n,t,r){!t||t.length===0?document.getElementById("emptyCart").style.display="inline":t.forEach(o=>{const c=e.content.cloneNode(!0),l=r(c,o);n.appendChild(l)})}export function renderWithTemplate(e,n,t,r){let o=e.content.cloneNode(!0);r&&(o=r(o,t)),n.appendChild(o)}export function loadTemplate(e){return u(this,null,function*(){const n=yield fetch(e).then(m),t=document.createElement("template");return t.innerHTML=n,t})}export function loadHeaderFooter(){return u(this,null,function*(){const e=yield loadTemplate("../partials/header.html"),n=yield loadTemplate("../partials/footer.html"),t=document.getElementById("main-header"),r=document.getElementById("main-footer");renderWithTemplate(e,t),renderWithTemplate(n,r);const o=l=>`<sup class="cart-number">${l}</sup>`;let c=JSON.parse(localStorage.getItem("so-cart"));c.length>0&&(document.querySelector(".cart-count").innerHTML=o(d(c)))})}function d(e){return e.length}export function alertMessage(e,n=!0){const t=document.createElement("div");t.classList.add("alert"),t.innerHTML=`<p>${e}</p><span>X</span>`,t.addEventListener("click",function(o){o.target.tagName=="SPAN"&&r.removeChild(this)});const r=document.querySelector("main");r.prepend(t),n&&window.scrollTo(0,0)}export function removeAllAlerts(){const e=document.querySelectorAll(".alert");e.forEach(n=>document.querySelector("main").removeChild(n))}
